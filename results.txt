16-02-2015
DiodeV2Mod2Part1
 funcf=solver_Kirch_DiodeV2Mod2DirectBranch
    jacf = Jac_Kirch_DiodeV2Mod2DirectBranch
    c={}
    Ve=np.array([ [0.00000000001] ]  )
    #       0           1       2     3   4    5    6
    btrue=[1.238e-14, 1.8,  1.123e-14, 1.5, 1., 0.5, 100.]


    bstart=np.array(btrue)-np.array(btrue)*0.1
    bend=np.array(btrue)+np.array(btrue)*0.102
    binit=[1.1-14, 1.5,  1.1e-14, 1.9, 1.1, 0.8, 98.]
    xstart=[0.001]
    xend=[1.5]
    N=40 #число точек в плане (для планов, кроме априорного)
    NArprior=20 #число точек в априорном плане

Каждый априорный план строится порядка 3 мин 3 сек
то есть 7*3=21 минут


C:\Python34\python.exe D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py
Herzlich willkommen auf Ofiura System!
Read file successful
grandCountGN_UltraX1_limited: As funcf returned None, method  stops: Can't convert 'OverflowError' object to str implicitly
Traceback (most recent call last):
{'y': array([ 0.00325093]), 'x': [1.3927032239311437]}
  File "D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py", line 222, in <module>
[ -1.40737198e-02   1.61826117e+00   1.10000000e-14   1.90000000e+00
    extraction_Kirch_DiodeV2Mod2DirectBranch()
   1.10000000e+00   8.00000000e-01   1.09691028e+02]
  File "D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py", line 194, in extraction_Kirch_DiodeV2Mod2DirectBranch
    gknuxlim = o_el.grandCountGN_UltraX1_Limited_wrapper(funcf,jacf,measdata,binit,bstart,bend, c, implicit=True, verbose=False, verbose_wrapper=False )
  File "D:\Projects\PHDLinearization\Ofiura\Ofiura_EstimationLimited.py", line 111, in grandCountGN_UltraX1_Limited_wrapper
    b=gknux[0]
TypeError: 'NoneType' object is not subscriptable

Process finished with exit code 1


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

27 feb
пофикшена мелкая ошибка в binit
теперь имеем
Iteration
 30
 (array([  1.11418990e-14,   1.58176403e+00,   1.23751678e-14,
         1.65301019e+00,   9.90574120e-01,   5.51036147e-01,
         9.75051527e+01]), 1, 'Mu counting: break due to max number of iteration exceed', [1.0874840898469799e-10], 1.0874840898469799e-10)
grandCountGN_UltraX1_Limited_wrapper iterations number: 30

при
Iteration
 30
 (array([  1.11418990e-14,   1.58176403e+00,   1.23751678e-14,
         1.65301019e+00,   9.90574120e-01,   5.51036147e-01,
         9.75051527e+01]), 1, 'Mu counting: break due to max number of iteration exceed', [1.0874840898469799e-10], 1.0874840898469799e-10)
grandCountGN_UltraX1_Limited_wrapper iterations number: 30

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
2 March
для диода расширенного имеем:
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                   b                                  |     DispLT    |                                                                      VbSigmas                                                                      |
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| [  1.11418620e-14   1.58176402e+00   1.23750608e-14   1.65301392e+00 | 1.72753893715 | [1.0392694775482397e-12, 4.833357775699512, 4.1585344846579256e-12, 31.70259149777983, 1.8886577764251236, 121.21910866737225, 14.094702297304009] |
|            9.90585419e-01   5.51049379e-01   9.75050757e+01]         |               |                                                                                                                                                    |
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
+-------------------+------------------------+---------+
|       AvDif       |        SigmaDif        | numiter |
+-------------------+------------------------+---------+
| 1.49604235009e-06 | 1.7881771415665654e-06 |    1    |
+-------------------+------------------------+---------+

и очень уж часто не хватало итераций

Это для метода с ограничениями. Неограниченный отваливался сразу же.


Для простого диода:

+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
|                           b                          |       DispLT      |                             VbSigmas                            |
+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
| [  1.30025037e-14   1.80359795e+00   9.99641810e+01] | 2.32549944699e-09 | [8.906919220481078e-14, 0.49684486718902543, 4.620051798070898] |
+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
+-------------------+-----------------------+---------+
|       AvDif       |        SigmaDif       | numiter |
+-------------------+-----------------------+---------+
| 3.15951466785e-07 | 3.776989618154713e-07 |    1    |
+-------------------+-----------------------+---------+
Vb:
 [[  7.93332100e-27   4.42419836e-14  -3.84434516e-13]
 [  4.42419836e-14   2.46854822e-01  -2.16073417e+00]
 [ -3.84434516e-13  -2.16073417e+00   2.13448786e+01]]


 Сравнение получается примерно таким:
 сигмы для простого диода - в целом норм, но великоваты.  средний остаток хороший, вроде как    много сообщений в логах, что итераций не хватило

для сложного диода
сигмы на 2 порядка больше значений вектора, и это не есть хорошо совсем.
средняя разница на порядок больше, чем у простого диода





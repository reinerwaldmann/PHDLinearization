16-02-2015
DiodeV2Mod2Part1
 funcf=solver_Kirch_DiodeV2Mod2DirectBranch
    jacf = Jac_Kirch_DiodeV2Mod2DirectBranch
    c={}
    Ve=np.array([ [0.00000000001] ]  )
    #       0           1       2     3   4    5    6
    btrue=[1.238e-14, 1.8,  1.123e-14, 1.5, 1., 0.5, 100.]


    bstart=np.array(btrue)-np.array(btrue)*0.1
    bend=np.array(btrue)+np.array(btrue)*0.102
    binit=[1.1-14, 1.5,  1.1e-14, 1.9, 1.1, 0.8, 98.]
    xstart=[0.001]
    xend=[1.5]
    N=40 #число точек в плане (для планов, кроме априорного)
    NArprior=20 #число точек в априорном плане

Каждый априорный план строится порядка 3 мин 3 сек
то есть 7*3=21 минут


C:\Python34\python.exe D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py
Herzlich willkommen auf Ofiura System!
Read file successful
grandCountGN_UltraX1_limited: As funcf returned None, method  stops: Can't convert 'OverflowError' object to str implicitly
Traceback (most recent call last):
{'y': array([ 0.00325093]), 'x': [1.3927032239311437]}
  File "D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py", line 222, in <module>
[ -1.40737198e-02   1.61826117e+00   1.10000000e-14   1.90000000e+00
    extraction_Kirch_DiodeV2Mod2DirectBranch()
   1.10000000e+00   8.00000000e-01   1.09691028e+02]
  File "D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py", line 194, in extraction_Kirch_DiodeV2Mod2DirectBranch
    gknuxlim = o_el.grandCountGN_UltraX1_Limited_wrapper(funcf,jacf,measdata,binit,bstart,bend, c, implicit=True, verbose=False, verbose_wrapper=False )
  File "D:\Projects\PHDLinearization\Ofiura\Ofiura_EstimationLimited.py", line 111, in grandCountGN_UltraX1_Limited_wrapper
    b=gknux[0]
TypeError: 'NoneType' object is not subscriptable

Process finished with exit code 1


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

27 feb
пофикшена мелкая ошибка в binit
теперь имеем
Iteration
 30
 (array([  1.11418990e-14,   1.58176403e+00,   1.23751678e-14,
         1.65301019e+00,   9.90574120e-01,   5.51036147e-01,
         9.75051527e+01]), 1, 'Mu counting: break due to max number of iteration exceed', [1.0874840898469799e-10], 1.0874840898469799e-10)
grandCountGN_UltraX1_Limited_wrapper iterations number: 30

при
Iteration
 30
 (array([  1.11418990e-14,   1.58176403e+00,   1.23751678e-14,
         1.65301019e+00,   9.90574120e-01,   5.51036147e-01,
         9.75051527e+01]), 1, 'Mu counting: break due to max number of iteration exceed', [1.0874840898469799e-10], 1.0874840898469799e-10)
grandCountGN_UltraX1_Limited_wrapper iterations number: 30

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
2 March
для диода расширенного имеем:
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                   b                                  |     DispLT    |                                                                      VbSigmas                                                                      |
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| [  1.11418620e-14   1.58176402e+00   1.23750608e-14   1.65301392e+00 | 1.72753893715 | [1.0392694775482397e-12, 4.833357775699512, 4.1585344846579256e-12, 31.70259149777983, 1.8886577764251236, 121.21910866737225, 14.094702297304009] |
|            9.90585419e-01   5.51049379e-01   9.75050757e+01]         |               |                                                                                                                                                    |
+----------------------------------------------------------------------+---------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
+-------------------+------------------------+---------+
|       AvDif       |        SigmaDif        | numiter |
+-------------------+------------------------+---------+
| 1.49604235009e-06 | 1.7881771415665654e-06 |    1    |
+-------------------+------------------------+---------+

и очень уж часто не хватало итераций

Это для метода с ограничениями. Неограниченный отваливался сразу же.


Для простого диода:

+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
|                           b                          |       DispLT      |                             VbSigmas                            |
+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
| [  1.30025037e-14   1.80359795e+00   9.99641810e+01] | 2.32549944699e-09 | [8.906919220481078e-14, 0.49684486718902543, 4.620051798070898] |
+------------------------------------------------------+-------------------+-----------------------------------------------------------------+
+-------------------+-----------------------+---------+
|       AvDif       |        SigmaDif       | numiter |
+-------------------+-----------------------+---------+
| 3.15951466785e-07 | 3.776989618154713e-07 |    1    |
+-------------------+-----------------------+---------+
Vb:
 [[  7.93332100e-27   4.42419836e-14  -3.84434516e-13]
 [  4.42419836e-14   2.46854822e-01  -2.16073417e+00]
 [ -3.84434516e-13  -2.16073417e+00   2.13448786e+01]]


 Сравнение получается примерно таким:
 сигмы для простого диода - в целом норм, но великоваты.  средний остаток хороший, вроде как    много сообщений в логах, что итераций не хватило

для сложного диода
сигмы на 2 порядка больше значений вектора, и это не есть хорошо совсем.
средняя разница на порядок больше, чем у простого диода

+++++++++++++++++++++++++++++++++++
3 Марта
Сложный диод

+----------------------------------------------------------------------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
|                                   b                                  |       DispLT      |                                                                    VbSigmas                                                                    |
+----------------------------------------------------------------------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| [  1.11423141e-14   1.58780911e+00   1.23742666e-14   1.65304395e+00 | 2.56055879264e-12 | [1.1081758046302482e-09, 5713.050997903421, 9.76352029637746e-10, 18327.914136091378, 7533.596181049955, 107835.1645616856, 10201.83667744644] |
|            1.09688696e+00   5.51157784e-01   1.18377973e+02]         |                   |                                                                                                                                                |
+----------------------------------------------------------------------+-------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
+-------------------+------------------------+---------+
|       AvDif       |        SigmaDif        | numiter |
+-------------------+------------------------+---------+
| 1.68696046956e-06 | 2.0552290573713414e-06 |    1    |
+-------------------+------------------------+---------+

  Ve=np.array([ [1e-5] ]  )

Средняя разница как и была, Vb сигмы сильно грустные

это при списке в 30 элементов
Отсюда делается вывод, что увеличение списка какбы мало что даёт. Оно и логично - чем больше список, тем больше точек, тем больше суммы и какбы тем больше показатели, получаемые на этом
списке. То есть, чем больше список, тем хуже показатели в общем. Но тем они лучше для иного списка, не обучающей выборки

Реально - толк может дать, видимо, только повышение точности

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
19 марта
+----------------------------------------------------------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
|                                   b                                  |       DispLT      |                                                                      VbSigmas                                                                      |
+----------------------------------------------------------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
| [  1.11420000e-14   1.56072952e+00   1.23754600e-14   1.65300000e+00 | 2.50753369819e-11 | [6.401206923964339e-10, 2699.5596930751153, 2.8478903049434653e-09, 25114.056412154503, 1074.4802151285576, 135096.64192135748, 6967.098598561343] |
|            1.00800000e+00   5.51000000e-01   1.25743064e+02]         |                   |                                                                                                                                                    |
+----------------------------------------------------------------------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------+
+-------------------+------------------------+---------+
|       AvDif       |        SigmaDif        | numiter |
+-------------------+------------------------+---------+
| 1.95418993356e-06 | 3.1666560534282673e-06 |    1    |
+-------------------+------------------------+---------+

C:\Python34\python.exe D:/Projects/PHDLinearization/Cases/DiodeV2Mod2Part1.py
Коммит 68072сa по ветке master
Идентификатор коммита является достаточной информацией для просмотра скрипта, коим произведены данные выше, но всё же

btrue=[1.238e-14, 1.8,  1.123e-14, 1.5, 1.12, 0.5, 123.]
bstart=np.array(btrue)-np.array(btrue)*0.1
bend=np.array(btrue)+np.array(btrue)*0.102
binit=[1.1e-14, 1.5,  1.1e-14, 1.9, 1.0, 0.8, 100.]
xstart=[0.001]
xend=[1.5]
N=40 #число точек в плане (для планов, кроме априорного)
NArprior=20 #число точек в априорном плане



